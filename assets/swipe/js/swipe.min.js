function Swipe(i,a){"use strict";function n(){}var r=function(t){setTimeout(t||n,0)},s={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in n)if(void 0!==t.style[n[e]])return!0;return!1}(document.createElement("swipe"))};if(i){var u,d,c,l,v=i.children[0];a=a||{};var f=parseInt(a.startSlide,10)||0,h=f,m=!1,p=a.speed||300;a.continuous=void 0===a.continuous||a.continuous;var o,x={},E={},w=a.auto||0,t=null,g={},b={},T={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":r(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":r(this.transitionEnd(t));break;case"resize":r(e)}a.stopPropagation&&t.stopPropagation()},start:function(t){var n=t.touches[0];g={x:n.pageX,y:n.pageY,time:+new Date},o=void 0,b={},v.addEventListener("touchmove",this,!1),v.addEventListener("touchend",this,!1)},move:function(t){if(!(1<t.touches.length||t.scale&&1!==t.scale)){a.disableScroll&&t.preventDefault();var n=t.touches[0];b={x:n.pageX-g.x,y:n.pageY-g.y},void 0===o&&(o=!!(o||Math.abs(b.x)<Math.abs(b.y))),o||(t.preventDefault(),P(),a.continuous?(C(z(f-1),b.x+d[z(f-1)],0),C(f,b.x+d[f],0),C(z(f+1),b.x+d[z(f+1)],0)):(b.x=b.x/(!f&&0<b.x||f==u.length-1&&b.x<0?Math.abs(b.x)/c+1:1),C(f-1,b.x+d[f-1],0),C(f,b.x+d[f],0),C(f+1,b.x+d[f+1],0)))}},end:function(){var t=+new Date-g.time,n=Number(t)<250&&20<Math.abs(b.x)||Math.abs(b.x)>c/2,e=!f&&0<b.x||f==u.length-1&&b.x<0;a.continuous&&(e=!1);var i=b.x<0;o||(n&&!e?(f=i?(a.continuous?(N(z(f-1),-c,0),N(z(f+2),c,0)):N(f-1,-c,0),N(f,d[f]-c,p),N(z(f+1),d[z(f+1)]-c,p),z(f+1)):(a.continuous?(N(z(f+1),c,0),N(z(f-2),-c,0)):N(f+1,c,0),N(f,d[f]+c,p),N(z(f-1),d[z(f-1)]+c,p),z(f-1)),h=m?f%2:f,a.menu&&D(),a.callback&&a.callback(h,u[f])):a.continuous?(N(z(f-1),-c,p),N(f,0,p),N(z(f+1),c,p)):(N(f-1,-c,p),N(f,0,p),N(f+1,c,p))),v.removeEventListener("touchmove",T,!1),v.removeEventListener("touchend",T,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==f&&(w&&I(),a.transitionEnd&&a.transitionEnd.call(t,h,u[f]))}};return e(),a.menu&&function(){var t=a.menu.querySelector(".slider-prev"),n=a.menu.querySelector(".slider-next"),e=a.menu.querySelector(".slider-menu");if(t&&(E.prev=function(t){L(t),P(),M()},x.prev=t,y(x.prev,"click",E.prev)),n&&(E.next=function(t){L(t),P(),S()},x.next=n,y(x.next,"click",E.next)),e){for(var i=0;i<l;i++){var o=document.createElement("b");o.innerHTML="â€¢",o.setAttribute("data-index",i.toString()),i==h&&(o.className="active"),y(o,"click",function(n){return function(t){L(t),P(),A(parseInt(this.getAttribute?this.getAttribute("data-index"):n.attributes["data-index"].nodeValue))}}(o)),e.appendChild(o)}x.dots=e}}(),w&&I(),s.addEventListener?(s.touch&&v.addEventListener("touchstart",T,!1),s.transitions&&(v.addEventListener("webkitTransitionEnd",T,!1),v.addEventListener("msTransitionEnd",T,!1),v.addEventListener("oTransitionEnd",T,!1),v.addEventListener("otransitionend",T,!1),v.addEventListener("transitionend",T,!1)),window.addEventListener("resize",T,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(t,n){P(),A(t,n)},prev:function(){P(),M()},next:function(){P(),S()},stop:function(){P()},getPos:function(){return h},getNumSlides:function(){return l},kill:function(){P(),v.style.width="",v.style.left="";for(var t=u.length;t--;){var n=u[t];n.style.width="",n.style.left="",s.transitions&&C(t,0,0)}s.addEventListener?(v.removeEventListener("touchstart",T,!1),v.removeEventListener("mousedown",T,!1),v.removeEventListener("webkitTransitionEnd",T,!1),v.removeEventListener("msTransitionEnd",T,!1),v.removeEventListener("oTransitionEnd",T,!1),v.removeEventListener("otransitionend",T,!1),v.removeEventListener("transitionend",T,!1),window.removeEventListener("resize",T,!1)):window.onresize=null,function(){for(var t=x.dots.childNodes;0<t.length;)x.dots.removeChild(t[0]);k(x.prev,"click",E.prev),k(x.next,"click",E.next)}()}}}function e(){u=v.children;for(var t=0;t<u.length;t++)8==u[t].nodeType&&(v.removeChild(u[t]),--t);l=u.length,u.length<2&&(a.continuous=!1),s.transitions&&a.continuous&&u.length<3&&(v.appendChild(u[0].cloneNode(!0)),v.appendChild(v.children[1].cloneNode(!0)),u=v.children,m=!0),d=new Array(u.length),c=i.getBoundingClientRect().width||i.offsetWidth,v.style.width=u.length*c+"px";for(var n=u.length;n--;){var e=u[n];e.style.width=c+"px",e.setAttribute("data-index",n.toString()),s.transitions&&(e.style.left=n*-c+"px",N(n,n<f?-c:f<n?c:0,0))}a.continuous&&s.transitions&&(N(z(f-1),-c,0),N(z(f+1),c,0)),s.transitions||(v.style.left=f*-c+"px"),i.style.visibility="visible"}function y(t,n,e){s.addEventListener?t.addEventListener(n,e,!1):window.attachEvent&&t.attachEvent("on"+n,e)}function L(t){t.returnValue=!1,t.preventDefault&&t.preventDefault()}function k(t,n,e){s.addEventListener?t.removeEventListener(n,e,!1):window.detachEvent&&t.detachEvent("on"+n,e)}function D(){for(var t=0;t<x.dots.children.length;t++){var n=x.dots.children[t];n.className=parseInt(n.getAttribute?n.getAttribute("data-index"):n.attributes["data-index"].nodeValue)==h?"active":""}}function M(){a.continuous?A(f-1):f&&A(f-1)}function S(){a.continuous?A(f+1):f<u.length-1&&A(f+1)}function z(t){return(u.length+t%u.length)%u.length}function A(t,n){if(f!=t){if(s.transitions){var e=Math.abs(f-t)/(f-t);if(a.continuous){var i=e;(e=-d[z(t)]/c)!==i&&(t=-e*u.length+t)}for(var o=Math.abs(f-t)-1;o--;)N(z((f<t?t:f)-o-1),c*e,0);t=z(t),N(f,c*e,n||p),N(t,0,n||p),a.continuous&&N(z(t-e),-c*e,0)}else t=z(t),function(n,e,i){if(!i)return v.style.left=e+"px";var o=+new Date,r=setInterval(function(){var t=+new Date-o;if(i<t)return v.style.left=e+"px",w&&I(),a.transitionEnd&&a.transitionEnd.call(event,h,u[f]),void clearInterval(r);v.style.left=(e-n)*(Math.floor(t/i*100)/100)+n+"px"},4)}(f*-c,t*-c,n||p);f=t,h=m?f%2:f,a.menu&&D(),r(a.callback&&a.callback(h,u[f]))}}function N(t,n,e){C(t,n,e),d[t]=n}function C(t,n,e){var i=u[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+n+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+n+"px)")}function I(){null!==t&&clearTimeout(t),t=setTimeout(function(){t=null,S()},w)}function P(){w=0,clearTimeout(t)}}"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=Swipe),exports.Swipe=Swipe);