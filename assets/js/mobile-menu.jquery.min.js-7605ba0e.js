!function(s,t,e,i){"use strict";function a(t,e){this.element=s(t),this.overlay=null,this.settings=s.extend({},r,e),this._defaults=r,this._name=n,this.init()}var n="mobileMenu",r={animation:!1,animationSpeed:500,breakPoint:0,disableNavigation:!1,keepInPlace:!1,menuActiveClass:"active",menuActiveHtmlClass:"mobile_menu_active",menuSubNavigationHideCssClass:"submenu_hide",menuSubNavigationShowCssClass:"submenu_show",offCanvas:!1,offCanvasWrapper:null,offCanvasWrapperClass:"mobile_menu_wrapper",overlay:!1,overlayActiveCssClass:"active",overlayBackgroundCssClass:"background",overlayCssClass:"mobile_menu_overlay",position:"left",parentTogglers:!1,closeOnLinkClick:!1,size:75,trigger:null};s.extend(a.prototype,{init:function(){var e=s("body");if(!e.hasClass("ie8")&&!e.hasClass("ie9")){null===this.settings.offCanvasWrapper&&(this.settings.offCanvasWrapper=s("#wrapper")),this.initMenu(),this.initTrigger(),this.initOverlay(),this.settings.offCanvas&&this.initOffCanvasWrapper();var i=this;s(t).on("resize",function(){i.updateElementsVisibility()}),this.updateElementsVisibility(),this.element.css("display","block")}},initMenu:function(){var t=this,e=(this.settings.size>100?100:this.settings.size)+"%",i=this.getAnimationSpeed();switch(!0!==this.settings.disableNavigation&&this.element.find(".level_1").each(function(){t.initMenuNavigation(s(this))}),this.element.find('[data-mobile-menu="close"]').on("click",function(s){s.preventDefault(),t.hideMenu()}),this.settings.closeOnLinkClick&&this.element.find("a").on("click",function(){t.hideMenu()}),this.element.addClass("position_"+this.settings.position),this.settings.keepInPlace||this.element.appendTo("body"),this.settings.position){case"left":this.element.css({left:0,top:0,width:e,height:"100vh"}),this.element.css(this.getCssTranslateRules("-100%",0));break;case"top":this.element.css({left:0,top:0,height:e,width:"100%"}),this.element.css(this.getCssTranslateRules(0,"-100%"));break;case"bottom":this.element.css({left:0,bottom:0,height:e,width:"100%"}),this.element.css(this.getCssTranslateRules(0,"100%"));break;case"right":this.element.css({right:0,top:0,width:e,height:"100vh"}),this.element.css(this.getCssTranslateRules("100%",0))}this.element.css({"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","-o-backface-visibility":"hidden","backface-visibility":"hidden"}),i&&this.element.css({"-webkit-transition":"-webkit-transform "+i+"ms ease","-moz-transition":"-moz-transform "+i+"ms ease","-o-transition":"-o-transform "+i+"ms ease",transition:"transform "+i+"ms ease"})},initMenuNavigation:function(t){var e=this,i=t.children(".submenu");i.each(function(){var t=s(this),a=t.children("a, span, strong").eq(0);a.hasClass("active")||a.hasClass("trail")?t.addClass(e.settings.menuSubNavigationShowCssClass):t.addClass(e.settings.menuSubNavigationHideCssClass),a.on("click",function(t){var a=s(this).parent();a.hasClass(e.settings.menuSubNavigationShowCssClass)?e.settings.parentTogglers&&(t.preventDefault(),a.addClass(e.settings.menuSubNavigationHideCssClass).removeClass(e.settings.menuSubNavigationShowCssClass)):(t.preventDefault(),i.removeClass(e.settings.menuSubNavigationShowCssClass).addClass(e.settings.menuSubNavigationHideCssClass),a.removeClass(e.settings.menuSubNavigationHideCssClass).addClass(e.settings.menuSubNavigationShowCssClass))});var n=t.children("ul").eq(0);n&&e.initMenuNavigation(n)})},initTrigger:function(){if(this.settings.trigger){var s=this;this.settings.trigger.on("click",function(){s.toggleMenu()})}},initOffCanvasWrapper:function(){var t=this.getAnimationSpeed(),e=s("<div>",{class:this.settings.offCanvasWrapperClass});switch(this.settings.offCanvasWrapper.parent().hasClass(this.settings.offCanvasWrapperClass)||this.settings.offCanvasWrapper.wrap(e),this.settings.offCanvasWrapper.css({"-webkit-transform":"translate3d(0, 0, 0)","-moz-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-o-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","-o-backface-visibility":"hidden","backface-visibility":"hidden"}),t>0&&this.settings.offCanvasWrapper.css({"-webkit-transition":"-webkit-transform "+t+"ms ease","-moz-transition":"-moz-transform "+t+"ms ease","-o-transition":"-o-transform "+t+"ms ease",transition:"transform "+t+"ms ease"}),this.settings.position){case"left":this.settings.offCanvasWrapper.css("left",0);break;case"top":this.settings.offCanvasWrapper.css("top",0);break;case"bottom":this.settings.offCanvasWrapper.css("bottom",0);break;case"right":this.settings.offCanvasWrapper.css("right",0)}},initOverlay:function(){var t=this,e=this.settings.overlayCssClass;this.settings.overlay&&(e=e+" "+this.settings.overlayBackgroundCssClass),this.overlay=s("<div>",{id:this.element.attr("id")+"-overlay",class:e}).on("click",function(){t.hideMenu()}).hide().appendTo("body")},updateElementsVisibility:function(){t.matchMedia("(max-width: "+this.settings.breakPoint+"px)").matches?this.showTrigger():(this.hideMenu(),this.hideTrigger())},showTrigger:function(){this.settings.trigger&&this.settings.trigger.show()},hideTrigger:function(){this.settings.trigger&&this.settings.trigger.hide()},showOverlay:function(){this.overlay&&(this.overlay.show(),this.overlay.addClass(this.settings.overlayActiveCssClass))},hideOverlay:function(){this.overlay&&(this.overlay.hide(),this.overlay.removeClass(this.settings.overlayActiveCssClass))},showMenu:function(){switch(this.element.trigger("showMobileMenu",[this]),this.settings.position){case"left":this.element.css(this.getCssTranslateRules(0,0,!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(this.settings.size+"%",0,!0));break;case"top":this.element.css(this.getCssTranslateRules(0,0,!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(0,s(t).height()*(this.settings.size/100)+"px",!0));break;case"bottom":this.element.css(this.getCssTranslateRules(0,0,!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(0,-1*s(t).height()*(this.settings.size/100)+"px",!0));break;case"right":this.element.css(this.getCssTranslateRules(0,0,!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(-1*this.settings.size+"%",0,!0))}this.showOverlay(),this.element.addClass(this.settings.menuActiveClass),s("html").addClass(this.settings.menuActiveHtmlClass),this.settings.trigger&&this.settings.trigger.addClass(this.settings.menuActiveClass)},hideMenu:function(){switch(this.element.trigger("hideMobileMenu",[this]),this.settings.position){case"left":this.element.css(this.getCssTranslateRules("-100%",0,!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(0,0,!0));break;case"top":this.element.css(this.getCssTranslateRules(0,"-100%",!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(0,0,!0));break;case"bottom":this.element.css(this.getCssTranslateRules(0,"100%",!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(0,0,!0));break;case"right":this.element.css(this.getCssTranslateRules("100%",0,!0)),this.settings.offCanvas&&this.settings.offCanvasWrapper.css(this.getCssTranslateRules(0,0,!0))}this.hideOverlay(),this.element.removeClass(this.settings.menuActiveClass),s("html").removeClass(this.settings.menuActiveHtmlClass),this.settings.trigger&&this.settings.trigger.removeClass(this.settings.menuActiveClass)},toggleMenu:function(){this.isActive()?this.hideMenu():this.showMenu()},isActive:function(){return this.element.hasClass(this.settings.menuActiveClass)},getCssTranslateRules:function(s,t,e){return e=e?" scale3d(1, 1, 1)":"",{"will-change":"transform","-webkit-transform":"translate3d("+s+", "+t+", 0)"+e,"-moz-transform":"translate3d("+s+", "+t+", 0)"+e,"-ms-transform":"translate3d("+s+", "+t+", 0)"+e,"-o-transform":"translate3d("+s+", "+t+", 0)"+e,transform:"translate3d("+s+", "+t+", 0)"+e}},getAnimationSpeed:function(){return this.settings.animation?this.settings.animationSpeed:0}}),s.fn[n]=function(t){return this.each(function(){s.data(this,"plugin_"+n)||s.data(this,"plugin_"+n,new a(this,t))})}}(jQuery,window,document);
